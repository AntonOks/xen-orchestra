schema {
  query: XoQueryType
  subscription: RootSubscriptionType
}

type XoQueryType {
  host(id: ID): host
  hosts(limit: Int, offset: Int, filter: String): [host]
  vm(id: ID): VM
  vms(limit: Int, offset: Int, filter: String): [VM]
  vbd(id: ID): VBD
  vbds(limit: Int, offset: Int, filter: String): [VBD]
  vdi(id: ID): VDI
  vdis(limit: Int, offset: Int, filter: String): [VDI]
  sr(id: ID): SR
  srs(limit: Int, offset: Int, filter: String): [SR]
}

type host {
  id: ID
  name_label: String
  description: String
  timestamp: Int
  vms(limit: Int, offset: Int, filter: String): [VM]
}

type VM {
  id: ID
  name_label: String
  description: String
  power_state: String
  timestamp: Int
  host(filter: String): host
  vbds(limit: Int, offset: Int, filter: String): [VBD]
}

type VBD {
  attached: Boolean
  bootable: Boolean
  is_cd_drive: Boolean
  read_only: Boolean
  device: String
  position: String
  timestamp: Int
  vm(filter: String): VM
  vdi(filter: String): VDI
}

type VDI {
  id: ID
  name_label: String
  description: String
  size: Int
  usage: Int
  timestamp: Int
  vbds(limit: Int, offset: Int, filter: String): [VBD]
  sr(filter: String): SR
}

type SR {
  id: ID
  name_label: String
  description: String
  size: Int
  usage: Int
  timestamp: Int
  vdis(limit: Int, offset: Int, filter: String): [VDI]
}

type RootSubscriptionType {
  hostUpdated: host
  hostRemoved: host
  hostAdded: host
  vmUpdated: VM
  vmRemoved: VM
  vmAdded: VM
  vbdUpdated: VBD
  vbdRemoved: VBD
  vbdAdded: VBD
  vdiUpdated: VDI
  vdiRemoved: VDI
  vdiAdded: VDI
  srUpdated: SR
  srRemoved: SR
  srAdded: SR
}
